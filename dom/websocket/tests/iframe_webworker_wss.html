<html><body>
Creating WebSocket
<script type="application/javascript">
onmessage = function(e) {
  parent.postMessage(e.data, '*');
}

try{
  let worker = new Worker("data:text/javascript,new WebSocket('ws://mochi.test:8888/tests/dom/websocket/tests/file_websocket_hello')");
  worker.onerror = (e) => {
    parent.postMessage(e.message, '*');
    close();
  };
  worker.onmessage = (e) => {
    parent.postMessage(e.message, '*');
    close();
  };
  // catch the security error thrown so it doesn't surface as a duplicate test failure
} catch(e) {}

</script>
</body></html>
