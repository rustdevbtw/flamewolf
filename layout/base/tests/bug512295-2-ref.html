<!DOCTYPE HTML><html class="reftest-wait"><head>
  <script src="/tests/SimpleTest/EventUtils.js"></script>
</head>
<body>
x
<div contenteditable="true">
<p id="p">A B CD EFG<br>
  1234567890</p>
</div>
<script>
  // Position the caret before the "A"
  var p = document.getElementById('p');
  var div = p.parentNode;
  div.focus();
  var { maybeOnSpellCheck } = SpecialPowers.ChromeUtils.importESModule(
    "resource://testing-common/AsyncSpellCheckTestHelper.sys.mjs"
  );
  maybeOnSpellCheck(div, function () {
    var sel = window.getSelection();
    sel.removeAllRanges();
    var range = document.createRange();
    range.setStart(p.firstChild, 0);
    range.setEnd(p.firstChild, 0);
    sel.addRange(range);
    document.documentElement.classList.remove("reftest-wait");
  });
</script>

</body>
</html>
